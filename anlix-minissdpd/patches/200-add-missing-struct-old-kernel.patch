--- a/minissdpd/asyncsendto.c
+++ b/minissdpd/asyncsendto.c
@@ -21,6 +21,15 @@
 #include "asyncsendto.h"
 #include "upnputils.h"
+
+#include <linux/version.h> 
+#if LINUX_VERSION_CODE < KERNEL_VERSION(4,0,0)
+struct in6_pktinfo {
+	struct in6_addr	ipi6_addr;
+	int		ipi6_ifindex;
+};
+#endif
+
 /* state diagram for a packet :
  *
  *                     |
